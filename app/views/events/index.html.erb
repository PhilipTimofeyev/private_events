<h1>Events</h1>

<ul>
  <h3> Future Events </h3>
  <% Event.future.each do |event| %>
  <div>
    <p> <%= event.date.strftime('%m/%d/%Y %I:%M %p') %> </p>
    <p> <%= event.location %> </p>
    <p> <%= event.creator.try(:email) %> </p>
    <%= button_to "Attend Event", event_attenders_path, params:{ event_attending: {attended_event_id: event.id }}, method: :post
    %>
    <details>
      <summary>Show Attendees</summary>
    <p> <%= event.attendees.map {|attendee| attendee.email }.join(', ')%> </p>
    </details>
  </div>
  <% end %>
</ul>

<ul>
  <h3> Past Events </h3>
  <% Event.past.each do |event| %>
  <div>
    <p> <%= event.date.strftime('%m/%d/%Y %I:%M %p') %> </p>
    <p> <%= event.location %> </p>
    <p> <%= event.creator.try(:email) %> </p>
    <details>
      <summary>Show Attendees</summary>
    <p> <%= event.attendees.map {|attendee| attendee.email }.join(', ')%> </p>
    </details>
  </div>
  <% end %>
</ul>